# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:

- task: UseNode@1
  inputs:
  version: '18.x'

- script: npm ci
  displayName: 'Install dependencies'


- script: npm run build
  displayName: 'Build React app'

- script: npm test -- --ci --reporters=jest-junit --coverage
  displayName: 'Run tests'
  continueOnError: false

- task: PublishTestResults@2
  inputs:
    testResultsFiles: '**/junit.xml'
    testRunTitle: 'Menu Feature Tests'
    condition: succeededOrFailed()
